{% extends "base.html" %}

{% block title %}Создать проект - Bitrix24 Security Audit{% endblock %}

{% block content %}
<div class="container" style="max-width: 900px;">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="text-cyber-primary glow"><i class="fas fa-plus"></i> NEW PROJECT</h1>
    <a href="{{ url_for('projects') }}" class="btn btn-outline-secondary"><i class="fas fa-arrow-left"></i> Назад</a>
  </div>

  <div class="card">
    <div class="card-header">
      <h5 class="mb-0"><i class="fas fa-terminal"></i> PROJECT SETTINGS</h5>
    </div>
    <div class="card-body">
      <form method="POST" id="createProjectForm" class="needs-validation" novalidate data-autosave>
        <div class="mb-3">
          <label class="form-label" for="name">Название проекта</label>
          <input type="text" class="form-control" id="name" name="name" placeholder="Например: B24 Production" required>
          <div class="invalid-feedback">Укажите название проекта</div>
        </div>

        <div class="mb-3">
          <label class="form-label" for="url">URL портала Битрикс24</label>
          <input type="url" class="form-control" id="url" name="url" placeholder="https://portal.example.com" required>
          <div class="invalid-feedback">Укажите корректный URL (https://...)</div>
        </div>

        <div class="mb-3">
          <label class="form-label" for="description">Описание</label>
          <textarea class="form-control" id="description" name="description" rows="4" placeholder="Краткое описание проекта..."></textarea>
        </div>

        <div class="d-flex justify-content-end">
          <button type="submit" class="btn btn-primary"><i class="fas fa-check"></i> Создать</button>
        </div>
      </form>
    </div>
  </div>
</div>

{% endblock %}

{% block scripts %}
<script>
document.getElementById('createProjectForm').addEventListener('submit', function(e){
  if(!this.checkValidity()){
    e.preventDefault();
    e.stopPropagation();
    AKUMA.showNotification('Проверьте корректность полей', 'warning');
  }
  this.classList.add('was-validated');
});
</script>
{% endblock %}
